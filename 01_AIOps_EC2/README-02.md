# --------------------------------------------------------------

# 실습 2. AIOps for EC2 상태분석 (OS의 부하상태)

## 1) 과정내용 - 설명
> 실습을 진행하시는 도중 Amazon Q dev CLI가 의도하지 않게 동작하는 경우가 발생할 수 있습니다. 그 때에는 안내된 과정 외에도 추가로 요청하시어 목표에 도달할 수 있도록 직접 요청을 수행해보시기 바랍니다.

📢 이 과정은 Q CLI 를 이용하여 인스턴스의 이상 CPU 사용 상태를 분석하고 복구하는 과정을 시도합니다.

Amazon Q dev CLI를 통해 해당 이상이 발생한 인스턴스를 찾고 원인을 조사합니다.

## 2) 진행순서 - 실습

> 혹시나 아직 테스트용 인스턴스를 생성하지 않았다면 아래 페이지를 다시 방문해 주세요.

- [사전작업-테스트용 EC2 생성](Create-test-EC2.md)


2-1. Q Dev CLI 를 실행한후 아래와 같이 분석을 요청합니다.
```
한글로 진행해줘.
us-east-1 리전에 high-cpu-01 이름을 가진 인스턴스의 CPU 사용상태를 확인하고 원인을 찾고 싶어
```

2-2. 아마도, CloudWatch 와 SSM Agent 를 통하여 확인된 결과를 , 제공하려는 모습을 볼 수 있을 것입니다.

2-3. 그후 해당 프로세스를 종료하려고 시도하거나 분석된 결과를 제공하는 모습을 볼 수 있습니다.

2-4. 보고서를 위한 내용 작성을 요청합니다.
```
보고서를 작성해줘
```
```
전체 분석 과정 및 결과를 가독성이 좋게 예쁘게 만들어줘 보고서 형태로.
```

2-5 (그외에) 7. Q Dev CLI 를 실행한후, SSH 키가 있음을 알려 줍니다.
```
현재 디렉토리의 high-cpu-01-key.pem 키를 사용해서 high-cpu-01 에 ssh 접근이 가능한지 테스트 해줘
```
2-6 (그외에) 8. SSH 를 통해서 OS 의 상태 분석 시도를 지시해 보세요. 
```
SSH 통해서 프로세스 및 OS 의 동작 상태를 분석해줘 
```
   
